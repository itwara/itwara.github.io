<!DOCTYPE html>
<html lang="en">

<head>
    <title>JSON在线格式化</title>
    <script type="text/javascript" src="../static/libs/ace/ace.min.js"></script>
    <script type="text/javascript" src="../static/libs/ace/worker-json.min.js"></script>
    <script type="text/javascript" src="../static/libs/ace/mode-json.min.js"></script>
    <script type="text/javascript" src="../static/libs/ace/theme-twilight.js"></script>

</head>

<body>
    <div class="wrap">
        <div class="title">JSON在线格式化</div>
        <div id="editor"></div>
        <div class="btn-wrap">
            <input type="button" value="运行" id="run">
        </div>
    </div>


    <style type="text/css">
        body {
            padding: 0;
            margin: 0;
            background-color: #fff;
            position: absolute;
            top: 0;
            bottom: 0;
            left: 0;
            right: 0;
        }

        .wrap {
            display: flex;
            flex-direction: column;
            height: 100%;
        }

        .title {
            font-size: 20px;
            font-weight: bolder;
            margin-left: 5px;
        }

        #editor {
            flex: 1;
        }

        #run {
            text-align: center;
            width: 60px;
            margin: 10px;
            color: #fff;
            background-color: #3280fc;
            border-color: #1970fc;
            border-radius: 15px;
        }
    </style>

    <script>
        var editor = ace.edit("editor");
        editor.setOptions({
            mode: 'ace/mode/json',
            theme: 'ace/theme/twilight',
            tabSize: 2,
            wrap: true,
            displayIndentGuides: false,
            showGutter: false
        })
        editor.renderer.setShowGutter(false);
        document.querySelector('#run')
            .addEventListener('click', () => {
                var _content = editor.getValue()
                var obj = JSON.parse(_content)
                editor.setValue(JSON.stringify(obj, null, 2));
            })
    </script>
</body>

</html>